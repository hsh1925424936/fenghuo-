/*! http://mths.be/placeholder v2.0.8 by @mathias */

define(["jquery"],function(){function a(e){var t={},n=/^jQuery\d+$/;return $.each(e.attributes,function(e,r){r.specified&&!n.test(r.name)&&(t[r.name]=r.value)}),t}function f(e,t){var n=this,r=$(n);if(n.value==r.attr("placeholder")&&r.hasClass("oas-placeholder"))if(r.data("placeholder-password")){r=r.hide().next().show().attr("id",r.removeAttr("id").data("placeholder-id"));if(e===!0)return r[0].value=t;r.focus()}else n.value="",r.removeClass("oas-placeholder"),n==c()&&n.select()}function l(){var e,t=this,n=$(t),r=this.id;if(t.value==""){if(t.type=="password"){if(!n.data("placeholder-textinput")){try{e=n.clone().attr({type:"text"})}catch(i){e=$("<input>").attr($.extend(a(this),{type:"text"}))}e.removeAttr("name").data({"placeholder-password":n,"placeholder-id":r}).bind("focus.placeholder",f),n.data({"placeholder-textinput":e,"placeholder-id":r}).before(e)}n=n.removeAttr("id").hide().prev().attr("id",r).show()}n.addClass("oas-placeholder"),n[0].value=n.attr("placeholder")}else n.removeClass("oas-placeholder")}function c(){try{return document.activeElement}catch(e){}}var e=Object.prototype.toString.call(window.operamini)=="[object OperaMini]",t="placeholder"in document.createElement("input")&&!e,n="placeholder"in document.createElement("textarea")&&!e,r=$.fn,i=$.valHooks,s=$.propHooks,o,u;t&&n?(u=r.oasInput=function(){return this},u.input=u.textarea=!0):(u=r.oasInput=function(){var e=this;if(e.data("placeholder-enabled"))return;return e.filter((t?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":f,"blur.placeholder":l}).data("placeholder-enabled",!0).trigger("blur.placeholder"),e},u.input=t,u.textarea=n,o={get:function(e){var t=$(e),n=t.data("placeholder-password");return n?n[0].value:t.data("placeholder-enabled")&&t.hasClass("oas-placeholder")?"":e.value},set:function(e,t){var n=$(e),r=n.data("placeholder-password");return r?r[0].value=t:n.data("placeholder-enabled")?(t==""?(e.value=t,e!=c()&&l.call(e)):n.hasClass("oas-placeholder")?f.call(e,!0,t)||(e.value=t):e.value=t,n):e.value=t}},t||(i.input=o,s.value=o),n||(i.textarea=o,s.value=o),$(function(){$(document).delegate("form","submit.placeholder",function(){var e=$(".oas-placeholder",this).each(f);setTimeout(function(){e.each(l)},10)})}),$(window).bind("beforeunload.placeholder",function(){$(".oas-placeholder").each(function(){this.value=""})})),$("input[placeholder], textarea[placeholder]").oasInput()});