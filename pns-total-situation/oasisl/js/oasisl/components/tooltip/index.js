define(["oasDialog","oasisUf"],function(e){"use strict";$.oasUiFactory("oasTooltip",{VERSION:"1.0.0",options:{trigger:"hover focus",title:"",placement:"top",delay:0,time:2e3},_create:function(){var e=this.options,t=this,n=e.trigger,r=n.split(" ");for(var i=0,s=r.length;i<s;i++){var o=r[i];if(o==="click")this.$el.on("click."+this.uiName,this.$el,$.proxy(this._toggle,this));else if(o!=="manual"){var u=o==="hover"?"mouseenter":"focusin",a=o==="hover"?"mouseleave":"focusout";this.$el.on(u+"."+this.uiName,this.$el,$.proxy(this._enter,this)),this.$el.on(a+"."+this.uiName,this.$el,$.proxy(this._leave,this))}}},_enter:function(){var e=this.options,t=this;clearTimeout(this.timeout),this.hoverState="in";if(!e.delay)return this._openTip();this.timeout=setTimeout(function(){t.hoverState=="in"&&t._openTip()},e.delay)},_leave:function(){var e=this.options,t=this;clearTimeout(this.timeout),this.hoverState="out";if(!e.delay)return this._closeTip();this.timeout=setTimeout(function(){t.hoverState=="out"&&t._closeTip()},e.delay)},_Place2Param:function(){var e=this.options.placement,t={top:1,right:2,bottom:3,left:4};return t[e]},_toggle:function(){var e=this.$el.data("oastip");e?this._closeTip():this._openTip()},_openTip:function(){var t=this.options,n=this,r=t.trigger==="click"&&t.time>0?t.time:0;if(!this._getTitle())return;this._emit("show",[this.$el]),this.$el.data("oastip",e.tips(this._getTitle(),this.$el,{tips:[this._Place2Param()],time:r,end:function(){n.$el.data("oastip",null),n._emit("hide",[this.$el]),n._emit("hidden",[this.$el])}})),this._emit("shown",[this.$el])},_getTitle:function(){var e=this.options,t;return t=typeof e.title=="function"?e.title.call(this.$el[0]):e.title,t=t?t:this.$el.attr("title"),t},_closeTip:function(){var t=this.$el.data("oastip");if(!t)return;var n=this.options;this._emit("hide",[this.$el]),e.close(t),this.$el.data("oastip",null),this._emit("hidden",[this.$el])},invoke:{hide:function(){this._closeTip()},show:function(){this._openTip()},setContent:function(e){if(!e||e===""){console.warn("[OASTOOTIP]: title is invalid");return}this.options.title=e}}}),$('[oastooltip],[data-toggle="oasTooltip"]').oasTooltip({})});